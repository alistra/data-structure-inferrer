<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Analyzer</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Analyzer.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Data Structure Inferrer</p></div><div id="content"><div id="module-header"><p class="caption">Analyzer</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:DSUse">DSUse</a>  = <a href="#v:DSU">DSU</a> {<ul class="subs"><li><a href="#v:getDSUName">getDSUName</a> :: <a href="Defs-Structures.html#t:OperationName">OperationName</a></li><li><a href="#v:isHeavilyUsed">isHeavilyUsed</a> :: Bool</li><li><a href="#v:isUserDependent">isUserDependent</a> :: Bool</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:DSInfo">DSInfo</a>  = <a href="#v:DSI">DSI</a> {<ul class="subs"><li><a href="#v:getDSINames">getDSINames</a> :: [(<a href="Defs-Common.html#t:FunctionName">FunctionName</a>, <a href="Defs-Common.html#t:VariableName">VariableName</a>)]</li><li><a href="#v:getDSIDSU">getDSIDSU</a> :: [<a href="Analyzer.html#t:DSUse">DSUse</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:DSFun">DSFun</a> t = <a href="#v:DSF">DSF</a> {<ul class="subs"><li><a href="#v:getDSFFun">getDSFFun</a> :: <a href="Analyzer.html#t:FunctionDeclaration">FunctionDeclaration</a> t</li><li><a href="#v:getDSFCalls">getDSFCalls</a> :: [<a href="Analyzer.html#t:FunctionCall">FunctionCall</a>]</li><li><a href="#v:getDSFDSI">getDSFDSI</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:FunctionDeclaration">FunctionDeclaration</a> t = <a href="#v:FunDecl">FunDecl</a> {<ul class="subs"><li><a href="#v:getFunName">getFunName</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a></li><li><a href="#v:getFunType">getFunType</a> :: t</li><li><a href="#v:getFunArgs">getFunArgs</a> :: [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, t)]</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:FunctionCall">FunctionCall</a> = (<a href="Defs-Common.html#t:FunctionName">FunctionName</a>, [Maybe <a href="Defs-Common.html#t:VariableName">VariableName</a>])</li><li class="src short"><span class="keyword">type</span> <a href="#t:TermAnalyzer">TermAnalyzer</a> a = State <a href="Analyzer.html#t:TermAnalyzerState">TermAnalyzerState</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Output">Output</a> = [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, <a href="Analyzer.html#t:DSUse">DSUse</a>)]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:TermAnalyzerState">TermAnalyzerState</a>  = <a href="#v:AS">AS</a> {<ul class="subs"><li><a href="#v:getStateCalls">getStateCalls</a> :: [<a href="Analyzer.html#t:FunctionCall">FunctionCall</a>]</li></ul>}</li><li class="src short"><a href="#v:startingFunction">startingFunction</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a></li><li class="src short"><a href="#v:stupidMerge">stupidMerge</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</li><li class="src short"><a href="#v:analyzeFunctions">analyzeFunctions</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</li><li class="src short"><a href="#v:analyzeDSF">analyzeDSF</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</li><li class="src short"><a href="#v:lookupDSF">lookupDSF</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:DSFun">DSFun</a> t</li><li class="src short"><a href="#v:lookupDSI">lookupDSI</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>] -&gt; <a href="Defs-Common.html#t:VariableName">VariableName</a> -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:DSInfo">DSInfo</a></li><li class="src short"><a href="#v:bindFuncall">bindFuncall</a> ::  [<a href="Analyzer.html#t:FunctionDeclaration">FunctionDeclaration</a> t] -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; [Maybe <a href="Defs-Common.html#t:VariableName">VariableName</a>] -&gt; [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, <a href="Defs-Common.html#t:VariableName">VariableName</a>)]</li><li class="src short"><a href="#v:generateDSI">generateDSI</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:Output">Output</a> -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DSUse" class="def">DSUse</a>  </p><div class="doc"><p>Data structure use case
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DSU" class="def">DSU</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getDSUName" class="def">getDSUName</a> :: <a href="Defs-Structures.html#t:OperationName">OperationName</a></dt><dd class="doc"><p>Operation used
</p></dd><dt class="src"><a name="v:isHeavilyUsed" class="def">isHeavilyUsed</a> :: Bool</dt><dd class="doc"><p>Is it heavily used
</p></dd><dt class="src"><a name="v:isUserDependent" class="def">isUserDependent</a> :: Bool</dt><dd class="doc"><p>Is it dependent on some external input (user, network, random, signals, etc.)
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DSUse" class="caption collapser" onclick="toggleSection('i:DSUse')">Instances</p><div id="section.i:DSUse" class="show"><table><tr><td class="src">Eq <a href="Analyzer.html#t:DSUse">DSUse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Analyzer.html#t:DSUse">DSUse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DSInfo" class="def">DSInfo</a>  </p><div class="doc"><p>Data structure for analysis info for one data-structure (possibly in many forms of different variables in functions)
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DSI" class="def">DSI</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getDSINames" class="def">getDSINames</a> :: [(<a href="Defs-Common.html#t:FunctionName">FunctionName</a>, <a href="Defs-Common.html#t:VariableName">VariableName</a>)]</dt><dd class="doc"><p>Variables, used in functions, holding the analyzed data structure
</p></dd><dt class="src"><a name="v:getDSIDSU" class="def">getDSIDSU</a> :: [<a href="Analyzer.html#t:DSUse">DSUse</a>]</dt><dd class="doc"><p><code><a href="Analyzer.html#t:DSUse">DSUse</a></code>s of the data structure
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DSInfo" class="caption collapser" onclick="toggleSection('i:DSInfo')">Instances</p><div id="section.i:DSInfo" class="show"><table><tr><td class="src">Eq <a href="Analyzer.html#t:DSInfo">DSInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Analyzer.html#t:DSInfo">DSInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Monoid <a href="Analyzer.html#t:DSInfo">DSInfo</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DSFun" class="def">DSFun</a> t </p><div class="doc"><p>Data structure for analysis info of a function definition
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DSF" class="def">DSF</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getDSFFun" class="def">getDSFFun</a> :: <a href="Analyzer.html#t:FunctionDeclaration">FunctionDeclaration</a> t</dt><dd class="doc"><p>Analyzed function declaration
</p></dd><dt class="src"><a name="v:getDSFCalls" class="def">getDSFCalls</a> :: [<a href="Analyzer.html#t:FunctionCall">FunctionCall</a>]</dt><dd class="doc"><p><code><a href="Analyzer.html#t:FunctionCall">FunctionCall</a></code>s from the analyzed function
</p></dd><dt class="src"><a name="v:getDSFDSI" class="def">getDSFDSI</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</dt><dd class="doc"><p><code><a href="Analyzer.html#t:DSInfo">DSInfo</a></code> about the variables inside of the function, at this stage are not yet ready to obtain the information
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DSFun" class="caption collapser" onclick="toggleSection('i:DSFun')">Instances</p><div id="section.i:DSFun" class="show"><table><tr><td class="src">Show t =&gt; Show (<a href="Analyzer.html#t:DSFun">DSFun</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:FunctionDeclaration" class="def">FunctionDeclaration</a> t </p><div class="doc"><p>Type for function definitions
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FunDecl" class="def">FunDecl</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getFunName" class="def">getFunName</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a></dt><dd class="doc"><p>Name of the function
</p></dd><dt class="src"><a name="v:getFunType" class="def">getFunType</a> :: t</dt><dd class="doc"><p>Return type of the function
</p></dd><dt class="src"><a name="v:getFunArgs" class="def">getFunArgs</a> :: [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, t)]</dt><dd class="doc"><p>Names and types of the function arguments
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:FunctionDeclaration" class="caption collapser" onclick="toggleSection('i:FunctionDeclaration')">Instances</p><div id="section.i:FunctionDeclaration" class="show"><table><tr><td class="src">Show t =&gt; Show (<a href="Analyzer.html#t:FunctionDeclaration">FunctionDeclaration</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:FunctionCall" class="def">FunctionCall</a> = (<a href="Defs-Common.html#t:FunctionName">FunctionName</a>, [Maybe <a href="Defs-Common.html#t:VariableName">VariableName</a>])</p><div class="doc"><p>Function call - name of the function, relevant arguments
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TermAnalyzer" class="def">TermAnalyzer</a> a = State <a href="Analyzer.html#t:TermAnalyzerState">TermAnalyzerState</a> a</p><div class="doc"><p>State monad with <code><a href="Analyzer.html#t:TermAnalyzerState">TermAnalyzerState</a></code>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Output" class="def">Output</a> = [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, <a href="Analyzer.html#t:DSUse">DSUse</a>)]</p><div class="doc"><p>Term analyzer basic output, variables and <code><a href="Analyzer.html#t:DSUse">DSUse</a></code>s
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:TermAnalyzerState" class="def">TermAnalyzerState</a>  </p><div class="doc"><p>State of the analyzer
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AS" class="def">AS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getStateCalls" class="def">getStateCalls</a> :: [<a href="Analyzer.html#t:FunctionCall">FunctionCall</a>]</dt><dd class="doc"><p><code><a href="Analyzer.html#t:FunctionCall">FunctionCall</a></code>s gathered through the analysis
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:TermAnalyzerState" class="caption collapser" onclick="toggleSection('i:TermAnalyzerState')">Instances</p><div id="section.i:TermAnalyzerState" class="show"><table><tr><td class="src">Show <a href="Analyzer.html#t:TermAnalyzerState">TermAnalyzerState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Monoid <a href="Analyzer.html#t:TermAnalyzerState">TermAnalyzerState</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:startingFunction" class="def">startingFunction</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a></p><div class="doc"><p>Name of the starting function
</p></div></div><div class="top"><p class="src"><a name="v:stupidMerge" class="def">stupidMerge</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</p><div class="doc"><p>Stupid merging of dsis --TODO remove this function, rewrite analyzeFunctions correctly
</p></div></div><div class="top"><p class="src"><a name="v:analyzeFunctions" class="def">analyzeFunctions</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</p><div class="doc"><p>Merges the simple <code><a href="Analyzer.html#t:DSInfo">DSInfo</a></code>s based on function calls from the functions
</p></div></div><div class="top"><p class="src"><a name="v:analyzeDSF" class="def">analyzeDSF</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</p><div class="doc"><p>Analyze wrapper with <code><a href="Analyzer.html#v:stupidMerge">stupidMerge</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:lookupDSF" class="def">lookupDSF</a> ::  [<a href="Analyzer.html#t:DSFun">DSFun</a> t] -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:DSFun">DSFun</a> t</p><div class="doc"><p>Lookup <code><a href="Analyzer.html#t:DSFun">DSFun</a></code> by <code><a href="Defs-Common.html#t:FunctionName">FunctionName</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:lookupDSI" class="def">lookupDSI</a> :: [<a href="Analyzer.html#t:DSInfo">DSInfo</a>] -&gt; <a href="Defs-Common.html#t:VariableName">VariableName</a> -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:DSInfo">DSInfo</a></p><div class="doc"><p>Lookup <code><a href="Analyzer.html#t:DSInfo">DSInfo</a></code> by <code><a href="Defs-Common.html#t:FunctionName">FunctionName</a></code> and <code><a href="Defs-Common.html#t:VariableName">VariableName</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:bindFuncall" class="def">bindFuncall</a> ::  [<a href="Analyzer.html#t:FunctionDeclaration">FunctionDeclaration</a> t] -&gt; <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; [Maybe <a href="Defs-Common.html#t:VariableName">VariableName</a>] -&gt; [(<a href="Defs-Common.html#t:VariableName">VariableName</a>, <a href="Defs-Common.html#t:VariableName">VariableName</a>)]</p><div class="doc"><p>Returns pairs of local variables bound to variables in a function that is called
</p></div></div><div class="top"><p class="src"><a name="v:generateDSI" class="def">generateDSI</a> :: <a href="Defs-Common.html#t:FunctionName">FunctionName</a> -&gt; <a href="Analyzer.html#t:Output">Output</a> -&gt; [<a href="Analyzer.html#t:DSInfo">DSInfo</a>]</p><div class="doc"><p>Generates simple <code><a href="Analyzer.html#t:DSInfo">DSInfo</a></code>s without the info from function calls
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.9.4</p></div></body></html>